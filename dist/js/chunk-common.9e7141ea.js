"use strict";(self["webpackChunkstats"]=self["webpackChunkstats"]||[]).push([[64],{2081:function(t,e,a){var n=a(9199);const l=(0,n._)("footer",null,[(0,n.Uk)(" If you find some bugs report them "),(0,n._)("a",{href:"https://www.instagram.com/memousek/"},"@Memousek"),(0,n.Uk)(" thanks. ")],-1);function s(t,e){const a=(0,n.up)("router-link"),s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",null,[(0,n.Wm)(a,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1}),(0,n.Uk)(" | "),(0,n.Wm)(a,{to:"/leaderboard"},{default:(0,n.w5)((()=>[(0,n.Uk)("Leaderboard")])),_:1})]),(0,n.Wm)(s),l],64)}var r=a(89);const o={},d=(0,r.Z)(o,[["render",s]]);var i=d,c=a(2483);const u={class:"home"},m=(0,n._)("h1",null,"Find your mcsrranked.com stats",-1);function h(t,e,a,l,s,r){const o=(0,n.up)("HelloWorld");return(0,n.wg)(),(0,n.iD)("div",u,[m,(0,n.Wm)(o,{msg:"Welcome to Your Vue.js App"})])}function _(t,e,a,l,s,r){const o=(0,n.up)("PlayerStatsComponent");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(o)])}const p=t=>((0,n.dD)("data-v-969d5c3e"),t=t(),(0,n.Cn)(),t),g={class:"player-stats"},w={key:0,class:"player-details"},f={class:"player-card"},y=["src","alt"],k={class:"player-stats-list"},D={style:{"font-size":"2rem","font-weight":"bold"}},M={style:{"margin-bottom":"20px"}},I={key:0},v={key:0},b={class:"matches-table"},z=p((()=>(0,n._)("thead",null,[(0,n._)("tr",{style:{"font-weight":"bold"}},[(0,n._)("td",null,"Total games"),(0,n._)("td",null,"Best W/S"),(0,n._)("td",null,"Current W/S"),(0,n._)("td",null,"Best time"),(0,n._)("td",null,"W/L/D"),(0,n._)("td",null,"Win rate")])],-1))),C={style:{"text-align":"center"}},W={style:{"text-align":"center"}},S={style:{"text-align":"center"}},T={style:{"text-align":"center"}},R={style:{"text-align":"center"},title:"Wins / Losees / Draft"},$={style:{"text-align":"center"}},x={key:1},U={key:1},F=p((()=>(0,n._)("p",null,"No data available",-1))),H=[F];function P(t,e,a,l,s,r){const o=(0,n.up)("PlayerStatsMatchComponent");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.username=e),placeholder:"Enter username",onKeyup:e[1]||(e[1]=(0,n.D2)(((...t)=>r.fetchData&&r.fetchData(...t)),["enter"]))},null,544),[[n.nr,t.username]]),(0,n._)("button",{onClick:e[2]||(e[2]=(...t)=>r.fetchData&&r.fetchData(...t))},"Search"),s.data?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",f,[(0,n._)("img",{src:r.getImageUrl,alt:r.getImageAlt,class:"player-avatar"},null,8,y),(0,n._)("ul",k,[(0,n._)("li",D,(0,n.zw)(s.data.data.nickname),1),(0,n._)("li",M,(0,n.zw)(r.addRank(s.data.data.elo_rate))+" ("+(0,n.zw)(s.data.data.elo_rate)+") ",1),null!=s.data.data.elo_rank?((0,n.wg)(),(0,n.iD)("li",I," Ledder Rank: "+(0,n.zw)(s.data.data.elo_rank),1)):(0,n.kq)("",!0),(0,n._)("li",null," Peak elo: "+(0,n.zw)(r.addRank(s.data.data.best_elo_rate))+" ("+(0,n.zw)(s.data.data.best_elo_rate)+") ",1),(0,n._)("li",null,"Last online: "+(0,n.zw)(r.formatRelativeTime(s.data.data.latest_time)),1)])]),"success"===s.status?((0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("table",b,[z,(0,n._)("tbody",null,[(0,n._)("tr",null,[(0,n._)("td",C,(0,n.zw)(s.datas.data.total_played),1),(0,n._)("td",W,(0,n.zw)(s.datas.data.highest_winstreak),1),(0,n._)("td",S,(0,n.zw)(s.datas.data.current_winstreak),1),(0,n._)("td",T,(0,n.zw)(r.formatTime(s.data.data.best_record_time)),1),(0,n._)("td",R,(0,n.zw)(s.data.data.records[2].win)+"/"+(0,n.zw)(s.data.data.records[2].lose)+"/"+(0,n.zw)(s.data.data.records[2].draw),1),(0,n._)("td",$,(0,n.zw)(r.calculateWinRate(s.data.data.records[2].win,s.data.data.records[2].lose))+"%",1)])])])])):((0,n.wg)(),(0,n.iD)("div",x," Loading ... ")),(0,n.Wm)(o,{username:t.username,uuid:s.data.data.uuid},null,8,["username","uuid"])])):((0,n.wg)(),(0,n.iD)("div",U,H))])}var L=a(4161);const Z={class:"matches-table"},N=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Opponent"),(0,n._)("th",null,"Result"),(0,n._)("th",null,"Final Time"),(0,n._)("th",null,"Date"),(0,n._)("th")])],-1),O=["href"],q=["onClick"],E={key:0,class:"modal"},Y={class:"modal-content"},A=(0,n._)("h3",null,"Match Details",-1),K=(0,n._)("h4",null,"Members:",-1),B=(0,n._)("h4",null,"Score Changes:",-1),G={key:0},V={key:1};function j(t,e,a,l,s,r){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("table",Z,[N,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.matches,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.match_id},[(0,n._)("td",null,[(0,n._)("a",{href:r.getOpponentHref(t)},(0,n.zw)(r.getOpponentsName(t)),9,O)]),(0,n._)("td",{class:(0,n.C_)(r.getMatchResultClass(t))},(0,n.zw)(r.getWinner(t)),3),(0,n._)("td",null,(0,n.zw)(r.getFinalTime(t)),1),(0,n._)("td",null,(0,n.zw)(r.formatTimestamp(t.match_date)),1),(0,n._)("td",null,[(0,n._)("button",{onClick:e=>r.openModal(t)},"More",8,q)])])))),128))])]),s.selectedMatch?((0,n.wg)(),(0,n.iD)("div",E,[(0,n._)("div",Y,[(0,n._)("span",{class:"close",onClick:e[0]||(e[0]=(...t)=>r.closeModal&&r.closeModal(...t))},"Ã—"),A,(0,n._)("p",null,"Match ID: "+(0,n.zw)(s.selectedMatch.match_id),1),(0,n._)("p",null,"Match Type: "+(0,n.zw)(r.getMatchTypeText(s.selectedMatch.match_type)),1),(0,n._)("p",null,"Match Season: "+(0,n.zw)(s.selectedMatch.match_season),1),K,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.selectedMatch.members,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.uuid},[(0,n._)("p",null,"Nickname: "+(0,n.zw)(t.nickname),1),(0,n._)("p",null,"Badge: "+(0,n.zw)(t.badge),1),(0,n._)("p",null,"Elo Rate: "+(0,n.zw)(t.elo_rate),1),(0,n._)("p",null,"Elo Rank: "+(0,n.zw)(t.elo_rank),1)])))),128))]),B,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.selectedMatch.score_changes,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.uuid},[(0,n._)("p",null,"UUID: "+(0,n.zw)(t.uuid),1),(0,n._)("p",null,"Change: "+(0,n.zw)(t.change),1),(0,n._)("p",null,"Score: "+(0,n.zw)(t.score),1)])))),128))]),s.selectedMatch.forfeit?((0,n.wg)(),(0,n.iD)("p",G,"Forfeit")):(0,n.kq)("",!0),s.selectedMatch.is_decay?((0,n.wg)(),(0,n.iD)("p",V,"Is Decay")):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)])}var J={name:"PlayerStatsMatchComponent",props:{username:{type:String,required:!0},uuid:{type:String,required:!0}},data(){return{matches:[],match:null,selectedMatch:null}},mounted(){this.fetchMatches()},methods:{async fetchMatches(){try{const t=await L.Z.get(`https://mcsrranked.com/api/users/${this.username}/matches`);this.matches=t.data.data}catch(t){console.error("Error fetching match data:",t)}},getMatchTypeText(t){return 1===t?"Casual":2===t?"Ranked":3===t?"Private":""},formatTimestamp(t){const e=new Date(1e3*t);return e.toLocaleString()},getFinalTime(t){return t.forfeit?"Forfeit":t.is_decay?"Is Decay":this.formatTime(t.final_time)},getOpponentsName(t){let e="";return t.members.forEach((t=>{t.uuid===this.uuid||(e=t.nickname)})),e},getOpponentHref(t){const e=this.getOpponentsName(t);return`/?username=${e}`},getWinner(t){return t.winner===this.uuid?"Win":"Lose"},getMatchResultClass(t){return t.winner===this.uuid?"green":"red"},openModal(t){this.selectedMatch=t},closeModal(){this.selectedMatch=null},formatTime(t){const e=Math.floor(t/6e4),a=(t%6e4/1e3).toFixed(2);return`${e}:${a<10?"0":""}${a}`}}};const Q=(0,r.Z)(J,[["render",j]]);var X=Q,tt={name:"PlayerStatsComponent",components:{PlayerStatsMatchComponent:X},data(){return{data:null,datas:[],uuid:"",error:null,status:""}},computed:{getImageUrl(){return`https://skins.danielraybone.com/v1/head/${this.username}?width=150`},getImageAlt(){return`${this.username}'s head`}},mounted(){const t=new URLSearchParams(window.location.search);t.has("username")&&(this.username=t.get("username"),this.fetchData(),t.set("username",this.username))},methods:{async fetchData(){if(!this.username)return this.data=null,void(this.error=null);const t=`https://mcsrranked.com/api/users/${this.username}`;try{const e=await L.Z.get(t);this.data=e.data,this.datas=e.data,this.status=e.data.status,this.error=null}catch(e){this.data=null,this.error=e.message}},addRank(t){const e=[[0,199,"Coal I"],[200,399,"Coal II"],[400,599,"Coal III"],[600,799,"Iron I"],[800,999,"Iron II"],[1e3,1199,"Iron III"],[1200,1399,"Gold I"],[1400,1599,"Gold II"],[1600,1799,"Gold III"],[1800,1999,"Diamond I"],[2e3,2199,"Diamond II"],[2200,2399,"Diamond III"]];for(const[a,n,l]of e)if(t>=a&&t<=n)return l;return"Unranked"},formatTime(t){const e=Math.floor(t/6e4),a=(t%6e4/1e3).toFixed(2);return`${e}:${a<10?"0":""}${a}`},formatRelativeTime(t){const e=Math.floor(Date.now()/1e3),a=e-t;if(a<60)return`${a} seconds ago`;if(a<3600){const t=Math.floor(a/60);return`${t} minutes ago`}if(a<86400){const t=Math.floor(a/3600);return`${t} hours ago`}if(a<604800){const t=Math.floor(a/86400);return`${t} days ago`}{const e=new Date(1e3*t);return e.toDateString()}},calculateWinRate(t,e){const a=t+e;if(0===a)return 0;const n=t/a*100;return n.toFixed(2)}}};const et=(0,r.Z)(tt,[["render",P],["__scopeId","data-v-969d5c3e"]]);var at=et,nt={name:"HelloWorld",components:{PlayerStatsComponent:at},props:{msg:String}};const lt=(0,r.Z)(nt,[["render",_],["__scopeId","data-v-67497a62"]]);var st=lt,rt={name:"HomeView",components:{HelloWorld:st}};const ot=(0,r.Z)(rt,[["render",h]]);var dt=ot;const it=(0,n._)("h1",null,"404 - Page Not Found",-1),ct=[it];function ut(t,e,a,l,s,r){return(0,n.wg)(),(0,n.iD)("div",null,ct)}var mt={};const ht=(0,r.Z)(mt,[["render",ut]]);var _t=ht;const pt=[{path:"/",name:"Stats",component:dt},{path:"/leaderboard",name:"Leaderboard",component:()=>a.e(935).then(a.bind(a,1935))},{path:"/:catchAll(.*)",name:"NotFound",component:_t},{path:"/mcsrranked-stats",redirect:"/"}],gt=(0,c.p7)({history:(0,c.PO)("/"),base:"/",routes:pt});gt.beforeEach(((t,e,a)=>{document.title=t.name,a()}));var wt=gt,ft=a(7139),yt=(0,ft.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,n.ri)(i).use(yt).use(wt).mount("#app")}}]);
//# sourceMappingURL=chunk-common.9e7141ea.js.map